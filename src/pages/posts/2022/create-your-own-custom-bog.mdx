---
title: How to create and deploy your own custom blog 
description: it's an adventure to control your contents and hosting platforms
pubDate: Dec 05, 2022
draft:
---
import BlogImage from "@components/BlogImage.astro"
import UseGithubTemplate from "@images/posts/2022/create-your-own-custom-blog/use-github-template.png"

This is how I quickly hosted the platform where this blog exists that you are reading right now.

> Right now, there isn't a way to post comments and I am writing my blogs as `mdx` files in VS Code.

You'll need a text editor with dev container support (like **VS Code**), **Docker** and **Github account**. 
For deployment you can use one of the many static site hosting platforms. 
We would be using astro as the building stack. Thanks for the advice [Guruvardhan](https://mobile.twitter.com/guruxkancharla).

Heroku, AWS, Vercel are good options to explore but I'll go with **[firebase hosting](https://firebase.google.com/)** (no particular reason).   
If you need a custom domain, say hello to [porkbun](https://porkbun.com/). 

## Understanding the flow

> There are many templates available in astro library. The one I'm using is [Lance Ross astro basic template](https://github.com/lancerossdev/astro-basic-blog).

### Folder structure

```
src
├── components
├── images
├── layouts
│   ├── BlogLayout.astro
│   └── Layout.astro
└── pages
    ├── 404.astro
    ├── index.astro
    ├── posts
    │   ├── but-why-tho.mdx
    │   ├── how-to-deploy.mdx
    │   └── markdown-styling.mdx
    ├── posts.astro
    └── rss.xml.ts
```

`src/pages/posts` is where your new blog posts live. All these `mdx` files are different blogs.

`src/pages/*.astro` contains the main view of our website. The layouts are defined at `src/layouts`.

### Publishing the blog

The defaut branch for my blog repository is called `publish`. 
Any pushes to this will automatically trigger the rebuilding and publishing of the website.

So I create a new branch for each of my new blogs and when I'm finished, I just merge the changes to `publish` branch.
This triggers the `deploy-firebase` workflow which pushes the build to firebase hosting. 
And the updated blog is live within seconds.

## How to launch your own instance

You can always fork my repository [here](https://github.com/UnresolvedCold/blog). 
You may need to activate GitHub Actions in your repository.
Better way is to use [Lance Ross astro basic template](https://github.com/lancerossdev/astro-basic-blog).

<BlogImage src={UseGithubTemplate} alt="Lance Ross create repo from template" />

Click on `Use this template` -> `Create a new repository`. This will help you to create a new repository using the template.
You can customize your repository as you like.

For firabse hosting, you'll need to create a new app from their website. Update the `.firebasesrc` with the name of your app. 
You'll also need `firebase-cli` to generate the auth token. Simply run `firebase login:ci` from your terminal to get this token. 
Save this token as GitHub Action secret as key value with key as 'FIREBASE_TOKEN' and value as the token you generated.

### Get a custom domain and link it to firebase hosting

1. Create an account on [Porkbun](porkbun.com) and buy a domain of your liking.
1. Go to firebase and click on hosting. There you can find `Add custom domain` button. 
1. Clicking this will ask you to provide your domain (Example: shubham.codes). Don't mention 'https' or 'www'.
1. In the next steps, it will ask you to update `A` and `TXT` records with your domain provider which is [porkbun](porkbun.com) in our case.
    1. Go to porkbun and click on the `Details` button on your domain name.
    1. Click on DNS record and update the `A` and `TXT`.
    1. It takes some time to get activated. It's mentioned 24 hours but for me it took around 2 hours.  